---
layout: activity
permalink: /Activities/Databases
title: "Web and Mobile Development - Databases"


info:
  goals: 
    - To explain the role of relational databases in web service architectures
    - To normalize a database to minimize data duplication
    - To join databases by a primary and foreign key
    - To use the SQL language to insert, query, and update database tables
  models:
    - model: |
          <div>
            <strong>People</strong><br />
            <table>
            <thead>
              <tr>
                <th>PersonID</th>
                <th>Name</th>
                <th>Age</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Bill</td>
                <td>38</td>
              </tr>
              <tr>
                <td>2</td>
                <td>Alex</td>
                <td>25</td>
              </tr>
              <tr>
                <td>3</td>
                <td>Lee</td>
                <td>19</td>
              </tr>
            </tbody>
            </table>      
          </div>
      title: Relational Databases
      embed: <iframe height="400px" width="100%" src="https://repl.it/@BillJr99/MySQLExample?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>        
      questions:
        - Draw a flow chart of the function calls in the program below.
    - model: |
          <div>
            <strong>People</strong><br />
            <table>
            <thead>
              <tr>
                <th>PersonID</th>
                <th>Name</th>
                <th>Age</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Bill</td>
                <td>38</td>
              </tr>
              <tr>
                <td>2</td>
                <td>Alex</td>
                <td>25</td>
              </tr>
              <tr>
                <td>3</td>
                <td>Lee</td>
                <td>19</td>
              </tr>
            </tbody>
            </table>      
            <br />
            <strong>Courses</strong><br />
            <table>
            <thead>
              <tr>
                <th>CourseID</th>
                <th>Name</th>
                <th>CourseNumber</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Introduction to Computer Science</td>
                <td>CS173</td>
              </tr>
              <tr>
                <td>2</td>
                <td>Object Oriented Programming</td>
                <td>CS174</td>
              </tr>
              <tr>
                <td>3</td>
                <td>Web and Mobile Development</td>
                <td>CS471</td>
              </tr>
            </tbody>
            </table>
            <br />
            <strong>Enrollments</strong><br />
            <table>
            <thead>
              <tr>
                <th>EnrollmentID</th>
                <th>CourseID</th>
                <th>PersonID</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>1</td>
                <td>1</td>
              </tr>
              <tr>
                <td>2</td>
                <td>2</td>
                <td>1</td>
              </tr>
              <tr>
                <td>3</td>
                <td>2</td>
                <td>2</td>
              </tr>
              <tr>
                <td>4</td>
                <td>2</td>
                <td>3</td>
              </tr>
            </tbody>
            </table>        
          </div>      
          <br />
          <div align="left">
          <pre>
          <code>
          SELECT * FROM Enrollments 
            INNER JOIN Courses ON Enrollments.CourseID = Courses.CourseID
            INNER JOIN People ON Enrollments.PersonID = People.PersonID;
          </code>
          </pre>
          </div>
      title: The SQL Join
      questions:
        - What are the primary keys and foreign keys in the tables above?
        - "What do you think <code>JOIN</code> means?"
        - What is the resulting table generated by the query above?
        - Why not just have a single table with the course name, person name in it to begin with, like the one you obtained through the JOIN statement?
    - model: |
        <img src="https://imgs.xkcd.com/comics/exploits_of_a_mom.png" alt="XKCD Exploits of a Mom">
      title: "Sanitizing Database Inputs"
      questions:
        - What is the problem being demonstrated here?  How might you write a program that is vulnerable to this type of attack?
        - "What can we do to prevent this?  The solution is <a href=\"https://www.veracode.com/blog/secure-development/how-prevent-sql-injection-nodejs\">provided automatically by a node.js library</a>, which you should use when concatenating user input to executable code."
    - model: |
        <iframe height="400px" width="100%" src="https://repl.it/@BillJr99/MySQLExample?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>  
      title: node.js Promises, Revisited
      embed: <iframe height="400px" width="100%" src="https://repl.it/@BillJr99/MySQLPromiseExample?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe><br /><iframe height="400px" width="100%" src="https://repl.it/@BillJr99/MySQLAwaitExample?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>
      questions:
        - In the first example, why is the code hard to follow?
        - "If you put a <code>process.exit()</code>statement at the bottom of the first example, what do you think would happen?"
        - "In the second example, why is there a <code>return</code> statement in the middle of execution?  This statement does not return from the function: what do you think it does?"
        - "What are the advantages and disadvantages of the <code>await</code> statements in the third example?"     
    - model: See the Example Below
      title: RESTful Services with a Database Backend    
      embed: <iframe height="400px" width="100%" src="https://repl.it/@BillJr99/ExpressMySQLExample?lite=true" scrolling="no" frameborder="no" allowtransparency="true" allowfullscreen="true" sandbox="allow-forms allow-pointer-lock allow-popups allow-same-origin allow-scripts allow-modals"></iframe>
        
tags:
  - databases
  
---

